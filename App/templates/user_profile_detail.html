{% extends "nav.html" %}
{% block content %}
<div class="container-fluid mt-4">
    <div class="row">
        <div class="col-md-12">
            <div class="card shadow-sm">
                <div class="card-header bg-primary text-white">
                    <h3 class="card-title mb-0">Información de Usuario</h3>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <p><strong>Nombre de usuario:</strong> {{ profile.user.username }}</p>
                            <p><strong>Nombre:</strong> {{ profile.user.first_name }}</p>
                            <p><strong>Apellido:</strong> {{ profile.user.last_name }}</p>
                            <p><strong>Email:</strong> {{ profile.user.email }}</p>
                            <p><strong>Tipo de Usuario:</strong> {{ profile.get_tipo_usuario_display }}</p>
                        </div>
                        <div class="col-md-6 text-right">
                            <a href="{% url 'edit_user_self' %}" class="btn btn-outline-primary">Editar Usuario</a>
                        </div>
                    </div>
                </div>
            </div>

            {% if profile.tipo_usuario == 'paciente' %}
                <div class="card shadow-sm mt-4">
                    <div class="card-header bg-success text-white">
                        <h3 class="card-title mb-0">Perfil de Paciente</h3>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <p><strong>DPI:</strong> {{ profile_data.dpi }}</p>
                                <p><strong>Fecha de Nacimiento:</strong> {{ profile_data.fecha_nacimiento }}</p>
                                <p><strong>Dirección:</strong> {{ profile_data.direccion }}</p>
                            </div>
                            <div class="col-md-6">
                                <p><strong>Teléfono:</strong> {{ profile_data.telefono }}</p>
                                <p><strong>Seguro Médico:</strong> {{ profile_data.seguro_medico }}</p>
                                <p><strong>Tipo de Sangre:</strong> {{ profile_data.blood_type }}</p>
                            </div>
                        </div>
                        <div class="text-center mt-3">
                            <a href="{% url 'edit_user_profile' %}" class="btn btn-secondary">Editar Perfil</a>
                        </div>
                    </div>
                </div>
            {% elif profile.tipo_usuario == 'medico' %}
                <div class="card shadow-sm mt-4">
                    <div class="card-header bg-info text-white">
                        <h3 class="card-title mb-0">Perfil de Médico</h3>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <p><strong>Colegiado:</strong> {{ profile_data.colegiado }}</p>
                                <p><strong>DPI:</strong> {{ profile_data.dpi }}</p>
                            </div>
                            <div class="col-md-6">
                                <p><strong>Teléfono:</strong> {{ profile_data.telefono }}</p>
                                <p><strong>Dirección:</strong> {{ profile_data.direccion }}</p>
                                <p><strong>Especialidad:</strong> {{ profile_data.especialidad }}</p>
                            </div>
                        </div>
                        <div class="text-center mt-3">
                            <a href="{% url 'edit_user_profile' %}" class="btn btn-secondary">Editar Perfil</a>
                        </div>
                    </div>
                </div>
            {% elif profile.tipo_usuario == 'secretaria' %}
                <div class="card shadow-sm mt-4">
                    <div class="card-header bg-warning text-dark">
                        <h3 class="card-title mb-0">Perfil de Secretaria</h3>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <p><strong>DPI:</strong> {{ profile_data.dpi }}</p>
                                <p><strong>Teléfono:</strong> {{ profile_data.telefono }}</p>
                            </div>
                            <div class="col-md-6">
                                <p><strong>Dirección:</strong> {{ profile_data.direccion }}</p>
                            </div>
                        </div>
                        <div class="text-center mt-3">
                            <a href="{% url 'edit_user_profile' %}" class="btn btn-secondary">Editar Perfil</a>
                        </div>
                    </div>
                </div>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}
